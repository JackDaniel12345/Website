<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Manage Orders - Admin</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
  <header>
    <h1>ðŸ§¼ Admin Dashboard</h1>
    <nav>
      <a href="{{ url_for('admin_dashboard') }}">Home</a>
      <a href="{{ url_for('logout') }}">Logout</a>
    </nav>
  </header>

  <main>
    <div class="admin-container">
      <h2>Manage Customer Orders</h2>
      <div class="table-card">
        <table class="orders-table">
          <thead>
            <tr>
              <th>#</th>
              <th>Customer</th>
              <th>Service</th>
              <th>Kilograms</th>
              <th>Total Price</th>
              <th>Status / Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for order in orders %}
            <tr>
              <td>{{ loop.index }}</td>
              <td>{{ order['customer_name'] }}</td>
              <td>{{ order['service'] }}</td>
              <td>{{ order['kilograms'] }}</td>
              <td>â‚±{{ "%.2f"|format(order['total_price']) }}</td>
              <td>
                <form method="POST" action="{{ url_for('update_order', order_id=order['id']) }}" class="inline-form">
                  <select name="status">
                    <option value="Pending" {% if order['status']=='Pending' %}selected{% endif %}>Pending</option>
                    <option value="In Progress" {% if order['status']=='In Progress' %}selected{% endif %}>In Progress</option>
                    <option value="Delivered" {% if order['status']=='Delivered' %}selected{% endif %}>Delivered</option>
                  </select>
                  <button type="submit" class="btn btn-update">Update</button>
                </form>
                <form method="POST" action="{{ url_for('delete_order', order_id=order['id']) }}" class="inline-form">
                  <button type="submit" class="btn btn-delete" onclick="return confirm('Are you sure you want to delete this order?');">
                    Delete
                  </button>
                </form>
              </td>
            </tr>
            {% else %}
            <tr>
              <td colspan="6" class="empty-message">No orders found.</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </main>
</body>
</html>
